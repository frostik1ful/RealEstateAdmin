<html xmlns:th="http://www.thymeleaf.org" lang="ua"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<nav th:fragment="header" class="header-navbar navbar navbar-expand-lg align-items-center floating-nav navbar-shadow"
     th:classappend="${session.user.lightTheme} ? 'navbar-light' : 'navbar-dark'">
    <div class="navbar-container d-flex content">
        <div class="bookmark-wrapper d-flex align-items-center">
            <ul class="nav navbar-nav d-xl-none">
                <li class="nav-item"><a class="nav-link menu-toggle" href="javascript:void(0);"><i class="ficon"
                                                                                                   data-feather="menu"></i></a>
                </li>
            </ul>
        </div>
        <ul class="nav navbar-nav align-items-center ml-auto">
            <input id="currentUserPhone" hidden th:value="${#authentication.getPrincipal().Username}">
            <li class="nav-item dropdown dropdown-notification mr-25"><a class="nav-link" href="javascript:void(0);"
                                                                         data-toggle="dropdown"><i class="ficon"
                                                                                                   data-feather="bell"></i>
                <span class="badge badge-pill badge-danger badge-up" id="notification-circle-number"></span></a>
                <ul class="dropdown-menu dropdown-menu-media dropdown-menu-right">
                    <li class="dropdown-menu-header">
                        <div class="dropdown-header d-flex">
                            <h4 class="notification-title mb-0 mr-auto">Повідомлення</h4>
                        </div>
                    </li>
                    <div id="notifications" class=" popup23"></div>
                </ul>
            </li>
            <!--<li sec:authorize="hasAuthority('MANAGER')" class="nav-item dropdown dropdown-notification mr-25"><a class="nav-link" href="javascript:void(0);"
                                                                                                               data-toggle="dropdown"><i class="ficon"
                                                                                                                                         data-feather="bell"></i>
                <span class="badge badge-pill badge-danger badge-up" id="notification-circle-number-manager"></span></a>
                <ul class="dropdown-menu dropdown-menu-media dropdown-menu-right">
                    <li class="dropdown-menu-header">
                        <div class="dropdown-header d-flex">
                            <h4 class="notification-title mb-0 mr-auto">Повідомлення</h4>
                        </div>
                    </li>
                    <div id="manager-notifications" class=" popup23"></div>
                </ul>
            </li>
            <li sec:authorize="hasAuthority('PRODUCER')" class="nav-item dropdown dropdown-notification mr-25"><a class="nav-link" href="javascript:void(0);"
                                                                                                                 data-toggle="dropdown"><i class="ficon"
                                                                                                                                           data-feather="bell"></i>
                <span class="badge badge-pill badge-danger badge-up" id="notification-circle-number-producer"></span></a>
                <ul class="dropdown-menu dropdown-menu-media dropdown-menu-right">
                    <li class="dropdown-menu-header">
                        <div class="dropdown-header d-flex">
                            <h4 class="notification-title mb-0 mr-auto">Повідомлення</h4>
                        </div>
                    </li>
                    <div id="producer-notifications" class=" popup23"></div>
                </ul>
            </li>-->
            <li class="nav-item d-none d-lg-block">
                <a class="nav-link nav-link-style" onclick="changeTheme()">
                    <i class="ficon" th:data-feather="${session.user.lightTheme} ? 'moon' : 'sun'"></i></a>
            </li>
            <li class="nav-item dropdown dropdown-user"><a class="nav-link dropdown-toggle dropdown-user-link"
                                                           id="dropdown-user" href="javascript:void(0);"
                                                           data-toggle="dropdown" aria-haspopup="true"
                                                           aria-expanded="false">
                <div class="user-nav d-sm-flex d-none">
                    <span class="user-name font-weight-bolder" th:text="${session.user.name}"></span>
                    <span class="user-status" th:text="${session.user.roleName}"></span>
                </div>
                <span class="avatar"><img class="round" th:src="${'data:image/png;base64,'+ session.user.avatar}"
                                          alt="avatar" height="40" width="40"><span class="avatar-status-online"></span></span>
            </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown-user">
                    <a class="dropdown-item" href="/logout"><i class="mr-50" data-feather="power"></i>
                        Вийти</a>
                </div>
            </li>
        </ul>
    </div>
</nav>
</html>
